@import 'tailwindcss';

@theme {
	--font-pixel: 'Press Start 2P', monospace;
	--font-retro: 'VT323', monospace;

	--color-parchment-50: #fefdfb;
	--color-parchment-100: #fdf8f0;
	--color-parchment-200: #f5e6d0;
	--color-parchment-300: #e8d0a8;
	--color-parchment-400: #d4b078;

	--color-crt-green: #33ff33;
	--color-crt-dark-green: #0a3d0a;
	--color-crt-bg: #0a0a0a;
	--color-crt-panel: #111411;
	--color-crt-border: #1a3a1a;

	--color-nes-red: #e74040;
	--color-nes-blue: #4080e0;
	--color-nes-gold: #f0b028;
	--color-nes-green: #40b830;
	--color-nes-purple: #a040c0;
	--color-nes-orange: #f08020;

	--color-primary-50: #e8f5e9;
	--color-primary-100: #c8e6c9;
	--color-primary-200: #a5d6a7;
	--color-primary-300: #69f0ae;
	--color-primary-400: #00e676;
	--color-primary-500: #00c853;
	--color-primary-600: #00a844;
	--color-primary-700: #008c38;
	--color-primary-800: #006b2b;
	--color-primary-900: #1b5e20;

	--color-accent-400: #f472b6;
	--color-accent-500: #ec4899;

	--color-success-500: #22c55e;
	--color-success-600: #16a34a;

	--color-danger-500: #ef4444;
	--color-danger-600: #dc2626;

	--color-surface-700: #1a1a24;
	--color-surface-800: #111118;
	--color-surface-900: #0a0a0f;
}

/* ============================================
   PIXEL ART DESIGN SYSTEM
   ============================================ */

@layer base {
	* {
		border-radius: 0 !important;
	}

	body {
		font-family: 'VT323', monospace;
		font-size: 18px;
		line-height: 1.4;
		image-rendering: pixelated;
		-webkit-font-smoothing: none;
		-moz-osx-font-smoothing: unset;
	}

	/* Light Mode: Pergament */
	body {
		background-color: var(--color-parchment-100);
		color: #3a2a1a;
	}

	/* Dark Mode: CRT Terminal */
	.dark body {
		background-color: var(--color-crt-bg);
		color: var(--color-crt-green);
	}

	h1, h2, h3, h4, h5, h6 {
		font-family: 'Press Start 2P', monospace;
		line-height: 1.6;
	}

	/* Pixel-sharp selects & inputs */
	select, input, textarea {
		font-family: 'VT323', monospace;
		font-size: 18px;
		border-radius: 0 !important;
	}
}

/* ============================================
   PIXEL BORDER SYSTEM
   ============================================ */

.pixel-border {
	border: 3px solid #5a3a1a;
	box-shadow:
		inset 3px 3px 0 0 rgba(255,255,255,0.15),
		inset -3px -3px 0 0 rgba(0,0,0,0.3);
	border-radius: 0 !important;
}

.dark .pixel-border {
	border-color: var(--color-crt-green);
	box-shadow:
		inset 3px 3px 0 0 rgba(51,255,51,0.1),
		inset -3px -3px 0 0 rgba(0,0,0,0.5);
}

.pixel-border-gold {
	border: 3px solid var(--color-nes-gold);
	box-shadow:
		inset 3px 3px 0 0 rgba(255,220,100,0.2),
		inset -3px -3px 0 0 rgba(0,0,0,0.3);
}

.pixel-border-inset {
	border: 3px solid #5a3a1a;
	box-shadow:
		inset -3px -3px 0 0 rgba(255,255,255,0.1),
		inset 3px 3px 0 0 rgba(0,0,0,0.3);
}

.dark .pixel-border-inset {
	border-color: #1a4a1a;
	box-shadow:
		inset -3px -3px 0 0 rgba(51,255,51,0.05),
		inset 3px 3px 0 0 rgba(0,0,0,0.4);
}

/* ============================================
   PIXEL BUTTON (SNES-Style)
   ============================================ */

.pixel-btn {
	font-family: 'Press Start 2P', monospace;
	border: 3px solid;
	border-color: #fff8 #0005 #0005 #fff8;
	position: relative;
	transition: transform 0.05s steps(1);
	image-rendering: pixelated;
	cursor: pointer;
}

.pixel-btn:active:not(:disabled) {
	transform: translate(2px, 2px);
	border-color: #0005 #fff8 #fff8 #0005;
}

.pixel-btn:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

/* ============================================
   ANIMATIONS (8-bit stepped)
   ============================================ */

@keyframes pixel-blink {
	0%, 49% { opacity: 1; }
	50%, 100% { opacity: 0; }
}

@keyframes pixel-bounce {
	0% { transform: translateY(0); }
	25% { transform: translateY(-8px); }
	50% { transform: translateY(0); }
	75% { transform: translateY(-4px); }
	100% { transform: translateY(0); }
}

@keyframes pixel-float-up {
	0% { opacity: 1; transform: translateY(0); }
	100% { opacity: 0; transform: translateY(-60px); }
}

@keyframes pixel-shake {
	0%, 100% { transform: translateX(0); }
	25% { transform: translateX(-4px); }
	75% { transform: translateX(4px); }
}

@keyframes pixel-flash {
	0%, 100% { opacity: 1; }
	50% { opacity: 0; }
}

@keyframes pixel-damage-number {
	0% {
		opacity: 1;
		transform: translateY(0) scale(1);
	}
	20% {
		transform: translateY(-30px) scale(1.4);
	}
	100% {
		opacity: 0;
		transform: translateY(-60px) scale(1);
	}
}

@keyframes pixel-confetti-fall {
	0% {
		opacity: 1;
		transform: translateY(-10px);
	}
	100% {
		opacity: 0;
		transform: translateY(100vh);
	}
}

@keyframes pixel-flame {
	0%, 100% { transform: scaleY(1); }
	33% { transform: scaleY(1.15) scaleX(0.9); }
	66% { transform: scaleY(0.9) scaleX(1.1); }
}

@keyframes pixel-slide-in {
	0% {
		opacity: 0;
		transform: translateX(100%);
	}
	100% {
		opacity: 1;
		transform: translateX(0);
	}
}

@keyframes pixel-slide-out {
	0% {
		opacity: 1;
		transform: translateX(0);
	}
	100% {
		opacity: 0;
		transform: translateX(100%);
	}
}

@keyframes pixel-pop-in {
	0% { transform: scale(0); opacity: 0; }
	60% { transform: scale(1.2); }
	100% { transform: scale(1); opacity: 1; }
}

@keyframes level-up-flash {
	0% { opacity: 0; }
	10% { opacity: 1; background: white; }
	30% { background: transparent; }
	100% { opacity: 0; }
}

@keyframes level-up-text {
	0% { transform: scale(0); opacity: 0; }
	30% { transform: scale(1.5); opacity: 1; }
	50% { transform: scale(1); }
	80% { transform: scale(1); opacity: 1; }
	100% { transform: scale(0.8); opacity: 0; }
}

@keyframes scanline-scroll {
	0% { transform: translateY(0); }
	100% { transform: translateY(4px); }
}

@keyframes xp-fill {
	from { width: 0; }
}

@keyframes shimmer {
	0% { background-position: -200% center; }
	100% { background-position: 200% center; }
}

@keyframes count-pop {
	0% { transform: scale(1); }
	50% { transform: scale(1.2); }
	100% { transform: scale(1); }
}

/* ============================================
   UTILITY ANIMATION CLASSES
   ============================================ */

.animate-pixel-blink {
	animation: pixel-blink 1s steps(1) infinite;
}

.animate-pixel-bounce {
	animation: pixel-bounce 0.6s steps(4) infinite;
}

.animate-pixel-float-up {
	animation: pixel-float-up 1.5s steps(12) forwards;
}

.animate-pixel-damage {
	animation: pixel-damage-number 1.2s steps(8) forwards;
}

.animate-pixel-pop-in {
	animation: pixel-pop-in 0.3s steps(4) forwards;
}

.animate-pixel-slide-in {
	animation: pixel-slide-in 0.3s steps(4) forwards;
}

.animate-pixel-flame {
	animation: pixel-flame 0.5s steps(3) infinite;
}

.animate-shimmer {
	background: linear-gradient(90deg, transparent 0%, rgba(240,176,40,0.3) 50%, transparent 100%);
	background-size: 200% 100%;
	animation: shimmer 2s linear infinite;
}

.animate-count-pop {
	animation: count-pop 0.3s steps(3);
}

/* ============================================
   CRT SCANLINE OVERLAY (Dark Mode)
   ============================================ */

.crt-scanlines::after {
	content: '';
	position: fixed;
	inset: 0;
	z-index: 9999;
	pointer-events: none;
	background: repeating-linear-gradient(
		0deg,
		transparent,
		transparent 2px,
		rgba(0, 0, 0, 0.08) 2px,
		rgba(0, 0, 0, 0.08) 4px
	);
	animation: scanline-scroll 0.2s steps(1) infinite;
}

/* ============================================
   PIXEL INPUT STYLES
   ============================================ */

.pixel-input {
	background: var(--color-parchment-50);
	border: 3px solid #5a3a1a;
	box-shadow:
		inset -3px -3px 0 0 rgba(255,255,255,0.1),
		inset 3px 3px 0 0 rgba(0,0,0,0.2);
	padding: 8px 12px;
	font-family: 'VT323', monospace;
	font-size: 18px;
	color: #3a2a1a;
	outline: none;
	width: 100%;
}

.pixel-input:focus {
	border-color: var(--color-nes-gold);
	box-shadow:
		inset -3px -3px 0 0 rgba(255,255,255,0.1),
		inset 3px 3px 0 0 rgba(0,0,0,0.2),
		0 0 0 2px rgba(240,176,40,0.3);
}

.dark .pixel-input {
	background: #0a1a0a;
	border-color: #1a4a1a;
	color: var(--color-crt-green);
	box-shadow:
		inset -3px -3px 0 0 rgba(51,255,51,0.03),
		inset 3px 3px 0 0 rgba(0,0,0,0.4);
}

.dark .pixel-input:focus {
	border-color: var(--color-crt-green);
	box-shadow:
		inset -3px -3px 0 0 rgba(51,255,51,0.03),
		inset 3px 3px 0 0 rgba(0,0,0,0.4),
		0 0 0 2px rgba(51,255,51,0.2);
}

/* ============================================
   PIXEL TOGGLE (for settings)
   ============================================ */

.pixel-toggle {
	width: 48px;
	height: 24px;
	border: 3px solid #5a3a1a;
	background: #8a7a6a;
	position: relative;
	cursor: pointer;
}

.pixel-toggle.active {
	background: var(--color-nes-green);
}

.pixel-toggle .pixel-toggle-knob {
	position: absolute;
	top: 2px;
	left: 2px;
	width: 14px;
	height: 14px;
	background: white;
	border: 2px solid #0003;
	transition: left 0.1s steps(2);
}

.pixel-toggle.active .pixel-toggle-knob {
	left: 24px;
}

.dark .pixel-toggle {
	border-color: #1a4a1a;
	background: #0a2a0a;
}

.dark .pixel-toggle.active {
	background: #0a4a0a;
	border-color: var(--color-crt-green);
}

.dark .pixel-toggle .pixel-toggle-knob {
	background: var(--color-crt-green);
	border-color: #0005;
}

/* ============================================
   SCROLL & SELECTION STYLES
   ============================================ */

::-webkit-scrollbar {
	width: 12px;
}

::-webkit-scrollbar-track {
	background: var(--color-parchment-200);
}

::-webkit-scrollbar-thumb {
	background: #8a7a6a;
	border: 2px solid var(--color-parchment-200);
}

.dark ::-webkit-scrollbar-track {
	background: var(--color-crt-bg);
}

.dark ::-webkit-scrollbar-thumb {
	background: #1a3a1a;
	border-color: var(--color-crt-bg);
}

::selection {
	background: var(--color-nes-gold);
	color: #3a2a1a;
}

.dark ::selection {
	background: #0a3a0a;
	color: var(--color-crt-green);
}
